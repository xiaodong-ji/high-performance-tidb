# 任务描述
- 分值：300
- 题目描述：
使用 sysbench、go-ycsb 和 go-tpc 分别对 TiDB 进行测试并且产出测试报告。

- 测试报告需要包括以下内容：
```
* 部署环境的机器配置(CPU、内存、磁盘规格型号)，拓扑结构(TiDB、TiKV 各部署于哪些节点)
* 调整过后的 TiDB 和 TiKV 配置
* 测试输出结果
* 关键指标的监控截图
  * TiDB Query Summary 中的 qps 与 duration
  * TiKV Details 面板中 Cluster 中各 server 的 CPU 以及 QPS 指标
  * TiKV Details 面板中 grpc 的 qps 以及 duration

输出：写出你对该配置与拓扑环境和 workload 下 TiDB 集群负载的分析，提出你认为的 TiDB 的性能的瓶颈所在(能提出大致在哪个模块即可)
```
- 截止时间：下周二（8.25）24:00:00(逾期提交不给分)


# 任务过程
### 环境描述
| 组件 | CPU（核）| 内存（GB）| 存储类型 | 网络 | 操作系统 | IP 地址 |
| :-----:| :----: | :----: | :----: | :----: | :----: | :----: |
| TiDB | 4 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.19 |
| PD | 4 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.19 |
| PD | 4 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.18 |
| PD | 4 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.17 |
| TiKV | 8 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.16 |
| TiKV | 8 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.15 |
| TiKV | 8 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.14 |
| TiFlash | 4 | 8 | SAS | 千兆网卡 | CentOS 7.5 | 192.168.0.17 |

### TiDB 集群部署
1. 安装 TiUP 组件
```
// 安装 TiUP 工具
# useradd tidb
# su - tidb
$ curl --proto '=https' --tlsv1.2 -sSf https://tiup-mirrors.pingcap.com/install.sh | sh
$ source /home/tidb/.bash_profile
$ which tiup 
~/.tiup/bin/tiup

// 安装 TiUP cluster 组件
$ tiup cluster

// 更新 TiUP cluster 组件
$ tiup update --self && tiup update cluster

// 查看 TiUP cluster 版本信息
$ tiup --binary cluster
/home/tidb/.tiup/components/cluster/v1.0.9/tiup-cluster
```

2. 编辑初始化配置文件
```
$ vi topology.yaml
# # Global variables are applied to all deployments and used as the default value of
# # the deployments if a specific deployment value is missing.
global:
  user: "tidb"
  ssh_port: 22
  deploy_dir: "/tidb-deploy"
  data_dir: "/tidb-data"

# # Monitored variables are applied to all the machines.
monitored:
  node_exporter_port: 9100
  blackbox_exporter_port: 9115
  # deploy_dir: "/tidb-deploy/monitored-9100"
  # data_dir: "/tidb-data/monitored-9100"
  # log_dir: "/tidb-deploy/monitored-9100/log"

# # Server configs are used to specify the runtime configuration of TiDB components.
# # All configuration items can be found in TiDB docs:
# # - TiDB: https://pingcap.com/docs/stable/reference/configuration/tidb-server/configuration-file/
# # - TiKV: https://pingcap.com/docs/stable/reference/configuration/tikv-server/configuration-file/
# # - PD: https://pingcap.com/docs/stable/reference/configuration/pd-server/configuration-file/
# # All configuration items use points to represent the hierarchy, e.g:
# #   readpool.storage.use-unified-pool
# #      
# # You can overwrite this configuration via the instance-level `config` field.

server_configs:
  tidb:
    log.slow-threshold: 300
  tikv:
    # server.grpc-concurrency: 4
    # raftstore.apply-pool-size: 2
    # raftstore.store-pool-size: 2
    # rocksdb.max-sub-compactions: 1
    # storage.block-cache.capacity: "16GB"
    # readpool.unified.max-thread-count: 12
    readpool.storage.use-unified-pool: false
    readpool.coprocessor.use-unified-pool: true
  pd:
    schedule.leader-schedule-limit: 4
    schedule.region-schedule-limit: 2048
    schedule.replica-schedule-limit: 64
    replication.enable-placement-rules: true
  tiflash:
    # Maximum memory usage for processing a single query. Zero means unlimited.
    profiles.default.max_memory_usage: 10000000000
    # Maximum memory usage for processing all concurrently running queries on the server. Zero means unlimited.
    profiles.default.max_memory_usage_for_all_queries: 0

pd_servers:
  - host: 192.168.0.17
    # ssh_port: 22
    # name: "pd-1"
    # client_port: 2379
    # peer_port: 2380
    # deploy_dir: "/tidb-deploy/pd-2379"
    # data_dir: "/tidb-data/pd-2379"
    # log_dir: "/tidb-deploy/pd-2379/log"
    # numa_node: "0,1"
    # # The following configs are used to overwrite the `server_configs.pd` values.
    # config:
    #   schedule.max-merge-region-size: 20
    #   schedule.max-merge-region-keys: 200000
  - host: 192.168.0.18
  - host: 192.168.0.19
tidb_servers:
  - host: 192.168.0.19
    # ssh_port: 22
    # port: 4000
    # status_port: 10080
    # deploy_dir: "/tidb-deploy/tidb-4000"
    # log_dir: "/tidb-deploy/tidb-4000/log"
    # numa_node: "0,1"
    # # The following configs are used to overwrite the `server_configs.tidb` values.
    # config:
    #   log.slow-query-file: tidb-slow-overwrited.log
	# - host: 10.0.1.8
	# - host: 10.0.1.9
tikv_servers:
  - host: 192.168.0.14
    # ssh_port: 22
    # port: 20160
    # status_port: 20180
    # deploy_dir: "/tidb-deploy/tikv-20160"
    # data_dir: "/tidb-data/tikv-20160"
    # log_dir: "/tidb-deploy/tikv-20160/log"
    # numa_node: "0,1"
    # # The following configs are used to overwrite the `server_configs.tikv` values.
    # config:
    #   server.grpc-concurrency: 4
    #   server.labels: { zone: "zone1", dc: "dc1", host: "host1" }
  - host: 192.168.0.15
  - host: 192.168.0.16

tiflash_servers:
  - host: 192.168.0.17
    data_dir: /mtime/tidb/tidb-data/tiflash-9000
    deploy_dir: /mtime/tidb/tidb-deploy/tiflash-9000
    # ssh_port: 22
    # tcp_port: 9000
    # http_port: 8123
    # flash_service_port: 3930
    # flash_proxy_port: 20170
    # flash_proxy_status_port: 20292
    # metrics_port: 8234
    # deploy_dir: /tidb-deploy/tiflash-9000
    # numa_node: "0,1"
    # # The following configs are used to overwrite the `server_configs.tiflash` values.
    # config:
    #   logger.level: "info"
    # learner_config:
    #   log-level: "info"
    # - host: 10.0.1.12
    # - host: 10.0.1.13

monitoring_servers:
  - host: 192.168.0.18
    # ssh_port: 22
    # port: 9090
    # deploy_dir: "/tidb-deploy/prometheus-8249"
    # data_dir: "/tidb-data/prometheus-8249"
    # log_dir: "/tidb-deploy/prometheus-8249/log"

grafana_servers:
  - host: 192.168.0.18
    # port: 3000
    # deploy_dir: /tidb-deploy/grafana-3000

alertmanager_servers:
  - host: 192.168.0.18
    # ssh_port: 22
    # web_port: 9093
    # cluster_port: 9094
    # deploy_dir: "/tidb-deploy/alertmanager-9093"
    # data_dir: "/tidb-data/alertmanager-9093"
    # log_dir: "/tidb-deploy/alertmanager-9093/log"
```

3. 执行部署命令
```
$ tiup cluster deploy tidb-benchmark nightly ./topology.yaml --user root -p
```

4. 查看并启动 TiDB 集群
```
// 查看 TiUP 管理的集群情况
$ tiup cluster list
Starting component `cluster`: /home/tidb/.tiup/components/cluster/v1.0.9/tiup-cluster list
Name            User  Version  Path                                                      PrivateKey
----            ----  -------  ----                                                      ----------
tidb-benchmark  tidb  nightly  /home/tidb/.tiup/storage/cluster/clusters/tidb-benchmark  /home/tidb/.tiup/storage/cluster/clusters/tidb-benchmark/ssh/id_rsa

// 检查部署的 TiDB 集群情况
$ tiup cluster display tidb-benchmark

// 启动 TiDB 集群
$ tiup cluster start tidb-benchmark

// 验证 TiDB 集群状态
$ tiup cluster display tidb-benchmark

// 登录数据库
$ mysql -u root -h 192.168.0.19 -P 4000

// 访问 TiDB Dashboard
http://192.168.0.19:2379/dashboard

// 访问 Grafana 监控
http://192.168.0.18:3000/
```

### sysbench 性能测试
1. sysbench 工具安装
```
# yum -y install make automake libtool pkgconfig libaio-devel
# yum -y install mariadb-devel openssl-devel
# mkdir sysbench
# cd sysbench
# wget https://github.com/akopytov/sysbench/archive/1.0.20.tar.gz
# tar -zxvf 1.0.20.tar.gz 
# cd sysbench-1.0.20/
# ./autogen.sh 
# ./configure
# make -j
# make install
# sysbench --version
sysbench 1.0.20
```

2. sysbench 测试准备
- 创建数据库
```
# mysql -u root -h 192.168.0.19 -P 4000
mysql> create database sysbench;
```

- 创建配置文件
```
# vi config
mysql-host=192.168.0.19
mysql-port=4000
mysql-user=root
mysql-db=sysbench
time=600
threads=128
report-interval=10
db-driver=mysql
```

- 准备数据与预热
```
// 导入前设置为乐观事务模式
mysql> set global tidb_disable_txn_auto_retry=off;
mysql> set global tidb_txn_mode="optimistic";

// 使用 sysbench 工具生产数据
# sysbench --config-file=config oltp_point_select --tables=32 --table-size=100000 prepare

// 导入结束后再设置回悲观模式
mysql> set global tidb_disable_txn_auto_retry=on;
mysql> set global tidb_txn_mode="pessimistic";

// 数据预热与统计信息收集
SELECT COUNT(pad) FROM sbtest1 USE INDEX(k_1);
......
SELECT COUNT(pad) FROM sbtest32 USE INDEX(k_1);

ANALYZE TABLE sbtest1;
......
ANALYZE TABLE sbtest32;
```

3. sysbench 场景测试
- Point select 场景测试
```
# sysbench --config-file=config oltp_point_select --tables=32 --table-size=100000 run
sysbench 1.0.20 (using bundled LuaJIT 2.1.0-beta2)

Running the test with following options:
Number of threads: 128
Report intermediate results every 10 second(s)
Initializing random number generator from current time


Initializing worker threads...

Threads started!

[ 10s ] thds: 128 tps: 18361.47 qps: 18361.47 (r/w/o: 18361.47/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 20s ] thds: 128 tps: 18899.74 qps: 18899.74 (r/w/o: 18899.74/0.00/0.00) lat (ms,95%): 11.87 err/s: 0.00 reconn/s: 0.00
[ 30s ] thds: 128 tps: 17917.60 qps: 17917.60 (r/w/o: 17917.60/0.00/0.00) lat (ms,95%): 12.98 err/s: 0.00 reconn/s: 0.00
[ 40s ] thds: 128 tps: 18615.51 qps: 18615.51 (r/w/o: 18615.51/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 50s ] thds: 128 tps: 18562.45 qps: 18562.45 (r/w/o: 18562.45/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 60s ] thds: 128 tps: 18276.76 qps: 18276.76 (r/w/o: 18276.76/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 70s ] thds: 128 tps: 18282.58 qps: 18282.58 (r/w/o: 18282.58/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 80s ] thds: 128 tps: 18540.98 qps: 18540.98 (r/w/o: 18540.98/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 90s ] thds: 128 tps: 18332.19 qps: 18332.29 (r/w/o: 18332.29/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 100s ] thds: 128 tps: 18668.57 qps: 18668.47 (r/w/o: 18668.47/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 110s ] thds: 128 tps: 18538.80 qps: 18538.80 (r/w/o: 18538.80/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 120s ] thds: 128 tps: 18379.49 qps: 18379.49 (r/w/o: 18379.49/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 130s ] thds: 128 tps: 18328.01 qps: 18328.01 (r/w/o: 18328.01/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 140s ] thds: 128 tps: 18655.06 qps: 18655.16 (r/w/o: 18655.16/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 150s ] thds: 128 tps: 18343.56 qps: 18343.46 (r/w/o: 18343.46/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 160s ] thds: 128 tps: 18389.12 qps: 18389.12 (r/w/o: 18389.12/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 170s ] thds: 128 tps: 18901.54 qps: 18901.54 (r/w/o: 18901.54/0.00/0.00) lat (ms,95%): 11.87 err/s: 0.00 reconn/s: 0.00
[ 180s ] thds: 128 tps: 18316.10 qps: 18316.10 (r/w/o: 18316.10/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 190s ] thds: 128 tps: 18471.94 qps: 18471.94 (r/w/o: 18471.94/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 200s ] thds: 128 tps: 18523.53 qps: 18523.53 (r/w/o: 18523.53/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 210s ] thds: 128 tps: 18345.31 qps: 18345.31 (r/w/o: 18345.31/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 220s ] thds: 128 tps: 18385.35 qps: 18385.35 (r/w/o: 18385.35/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 230s ] thds: 128 tps: 18677.38 qps: 18677.38 (r/w/o: 18677.38/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 240s ] thds: 128 tps: 18327.14 qps: 18327.14 (r/w/o: 18327.14/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 250s ] thds: 128 tps: 18084.59 qps: 18084.59 (r/w/o: 18084.59/0.00/0.00) lat (ms,95%): 12.75 err/s: 0.00 reconn/s: 0.00
[ 260s ] thds: 128 tps: 17937.69 qps: 17937.69 (r/w/o: 17937.69/0.00/0.00) lat (ms,95%): 12.98 err/s: 0.00 reconn/s: 0.00
[ 270s ] thds: 128 tps: 18136.71 qps: 18136.71 (r/w/o: 18136.71/0.00/0.00) lat (ms,95%): 12.75 err/s: 0.00 reconn/s: 0.00
[ 280s ] thds: 128 tps: 18335.74 qps: 18335.94 (r/w/o: 18335.94/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 290s ] thds: 128 tps: 18562.07 qps: 18561.87 (r/w/o: 18561.87/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 300s ] thds: 128 tps: 18085.79 qps: 18085.79 (r/w/o: 18085.79/0.00/0.00) lat (ms,95%): 12.98 err/s: 0.00 reconn/s: 0.00
[ 310s ] thds: 128 tps: 18249.27 qps: 18249.27 (r/w/o: 18249.27/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 320s ] thds: 128 tps: 18079.49 qps: 18079.49 (r/w/o: 18079.49/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 330s ] thds: 128 tps: 18199.35 qps: 18199.35 (r/w/o: 18199.35/0.00/0.00) lat (ms,95%): 12.75 err/s: 0.00 reconn/s: 0.00
[ 340s ] thds: 128 tps: 18310.14 qps: 18310.14 (r/w/o: 18310.14/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 350s ] thds: 128 tps: 18545.16 qps: 18545.26 (r/w/o: 18545.26/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 360s ] thds: 128 tps: 18144.35 qps: 18144.25 (r/w/o: 18144.25/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 370s ] thds: 128 tps: 18152.85 qps: 18152.85 (r/w/o: 18152.85/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 380s ] thds: 128 tps: 18392.96 qps: 18392.96 (r/w/o: 18392.96/0.00/0.00) lat (ms,95%): 11.87 err/s: 0.00 reconn/s: 0.00
[ 390s ] thds: 128 tps: 18185.71 qps: 18185.71 (r/w/o: 18185.71/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 400s ] thds: 128 tps: 18597.42 qps: 18597.42 (r/w/o: 18597.42/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 410s ] thds: 128 tps: 18385.56 qps: 18385.56 (r/w/o: 18385.56/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 420s ] thds: 128 tps: 18345.64 qps: 18345.64 (r/w/o: 18345.64/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 430s ] thds: 128 tps: 18660.42 qps: 18660.42 (r/w/o: 18660.42/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 440s ] thds: 128 tps: 18383.92 qps: 18383.92 (r/w/o: 18383.92/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 450s ] thds: 128 tps: 18147.99 qps: 18147.99 (r/w/o: 18147.99/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 460s ] thds: 128 tps: 18576.01 qps: 18576.01 (r/w/o: 18576.01/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 470s ] thds: 128 tps: 18623.50 qps: 18623.50 (r/w/o: 18623.50/0.00/0.00) lat (ms,95%): 12.08 err/s: 0.00 reconn/s: 0.00
[ 480s ] thds: 128 tps: 18472.86 qps: 18472.86 (r/w/o: 18472.86/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 490s ] thds: 128 tps: 18718.34 qps: 18718.34 (r/w/o: 18718.34/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 500s ] thds: 128 tps: 18777.66 qps: 18777.66 (r/w/o: 18777.66/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 510s ] thds: 128 tps: 18084.62 qps: 18084.62 (r/w/o: 18084.62/0.00/0.00) lat (ms,95%): 12.98 err/s: 0.00 reconn/s: 0.00
[ 520s ] thds: 128 tps: 17984.85 qps: 17984.85 (r/w/o: 17984.85/0.00/0.00) lat (ms,95%): 12.75 err/s: 0.00 reconn/s: 0.00
[ 530s ] thds: 128 tps: 18434.99 qps: 18434.99 (r/w/o: 18434.99/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 540s ] thds: 128 tps: 17957.73 qps: 17957.73 (r/w/o: 17957.73/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 550s ] thds: 128 tps: 18388.91 qps: 18388.91 (r/w/o: 18388.91/0.00/0.00) lat (ms,95%): 12.75 err/s: 0.00 reconn/s: 0.00
[ 560s ] thds: 128 tps: 18819.55 qps: 18819.55 (r/w/o: 18819.55/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 570s ] thds: 128 tps: 18461.26 qps: 18461.26 (r/w/o: 18461.26/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 580s ] thds: 128 tps: 17546.61 qps: 17546.61 (r/w/o: 17546.61/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
[ 590s ] thds: 128 tps: 18062.17 qps: 18062.17 (r/w/o: 18062.17/0.00/0.00) lat (ms,95%): 12.30 err/s: 0.00 reconn/s: 0.00
[ 600s ] thds: 128 tps: 18511.14 qps: 18511.14 (r/w/o: 18511.14/0.00/0.00) lat (ms,95%): 12.52 err/s: 0.00 reconn/s: 0.00
SQL statistics:
    queries performed:
        read:                            11024052
        write:                           0
        other:                           0
        total:                           11024052
    transactions:                        11024052 (18371.10 per sec.)
    queries:                             11024052 (18371.10 per sec.)
    ignored errors:                      0      (0.00 per sec.)
    reconnects:                          0      (0.00 per sec.)

General statistics:
    total time:                          600.0717s
    total number of events:              11024052

Latency (ms):
         min:                                    2.19
         avg:                                    6.96
         max:                                  351.60
         95th percentile:                       12.30
         sum:                             76728218.24

Threads fairness:
    events (avg/stddev):           86125.4062/167.82
    execution time (avg/stddev):   599.4392/0.02
```

- Update index 场景测试
```
# sysbench --config-file=config oltp_update_index --tables=32 --table-size=100000 run
sysbench 1.0.20 (using bundled LuaJIT 2.1.0-beta2)

Running the test with following options:
Number of threads: 128
Report intermediate results every 10 second(s)
Initializing random number generator from current time


Initializing worker threads...

Threads started!

[ 10s ] thds: 128 tps: 371.19 qps: 371.19 (r/w/o: 0.00/371.19/0.00) lat (ms,95%): 590.56 err/s: 0.00 reconn/s: 0.00
[ 20s ] thds: 128 tps: 387.24 qps: 387.24 (r/w/o: 0.00/387.24/0.00) lat (ms,95%): 623.33 err/s: 0.00 reconn/s: 0.00
[ 30s ] thds: 128 tps: 414.30 qps: 414.30 (r/w/o: 0.00/414.30/0.00) lat (ms,95%): 467.30 err/s: 0.00 reconn/s: 0.00
[ 40s ] thds: 128 tps: 395.51 qps: 395.51 (r/w/o: 0.00/395.51/0.00) lat (ms,95%): 580.02 err/s: 0.00 reconn/s: 0.00
[ 50s ] thds: 128 tps: 421.29 qps: 421.29 (r/w/o: 0.00/421.29/0.00) lat (ms,95%): 475.79 err/s: 0.00 reconn/s: 0.00
[ 60s ] thds: 128 tps: 451.91 qps: 451.91 (r/w/o: 0.00/451.91/0.00) lat (ms,95%): 442.73 err/s: 0.00 reconn/s: 0.00
[ 70s ] thds: 128 tps: 457.90 qps: 457.90 (r/w/o: 0.00/457.90/0.00) lat (ms,95%): 467.30 err/s: 0.00 reconn/s: 0.00
[ 80s ] thds: 128 tps: 423.70 qps: 423.70 (r/w/o: 0.00/423.70/0.00) lat (ms,95%): 475.79 err/s: 0.00 reconn/s: 0.00
[ 90s ] thds: 128 tps: 415.10 qps: 415.10 (r/w/o: 0.00/415.10/0.00) lat (ms,95%): 484.44 err/s: 0.00 reconn/s: 0.00
[ 100s ] thds: 128 tps: 390.80 qps: 390.80 (r/w/o: 0.00/390.80/0.00) lat (ms,95%): 590.56 err/s: 0.00 reconn/s: 0.00
[ 110s ] thds: 128 tps: 428.00 qps: 428.00 (r/w/o: 0.00/428.00/0.00) lat (ms,95%): 493.24 err/s: 0.00 reconn/s: 0.00
[ 120s ] thds: 128 tps: 435.70 qps: 435.70 (r/w/o: 0.00/435.70/0.00) lat (ms,95%): 502.20 err/s: 0.00 reconn/s: 0.00
[ 130s ] thds: 128 tps: 420.50 qps: 420.50 (r/w/o: 0.00/420.50/0.00) lat (ms,95%): 520.62 err/s: 0.00 reconn/s: 0.00
[ 140s ] thds: 128 tps: 409.70 qps: 409.70 (r/w/o: 0.00/409.70/0.00) lat (ms,95%): 493.24 err/s: 0.00 reconn/s: 0.00
[ 150s ] thds: 128 tps: 419.50 qps: 419.50 (r/w/o: 0.00/419.50/0.00) lat (ms,95%): 458.96 err/s: 0.00 reconn/s: 0.00
[ 160s ] thds: 128 tps: 422.41 qps: 422.41 (r/w/o: 0.00/422.41/0.00) lat (ms,95%): 475.79 err/s: 0.00 reconn/s: 0.00
[ 170s ] thds: 128 tps: 446.00 qps: 446.00 (r/w/o: 0.00/446.00/0.00) lat (ms,95%): 475.79 err/s: 0.00 reconn/s: 0.00
[ 180s ] thds: 128 tps: 420.40 qps: 420.40 (r/w/o: 0.00/420.40/0.00) lat (ms,95%): 467.30 err/s: 0.00 reconn/s: 0.00
[ 190s ] thds: 128 tps: 438.60 qps: 438.60 (r/w/o: 0.00/438.60/0.00) lat (ms,95%): 442.73 err/s: 0.00 reconn/s: 0.00
[ 200s ] thds: 128 tps: 434.50 qps: 434.50 (r/w/o: 0.00/434.50/0.00) lat (ms,95%): 493.24 err/s: 0.00 reconn/s: 0.00
[ 210s ] thds: 128 tps: 396.60 qps: 396.60 (r/w/o: 0.00/396.60/0.00) lat (ms,95%): 502.20 err/s: 0.00 reconn/s: 0.00
[ 220s ] thds: 128 tps: 278.80 qps: 278.80 (r/w/o: 0.00/278.80/0.00) lat (ms,95%): 646.19 err/s: 0.00 reconn/s: 0.00
[ 230s ] thds: 128 tps: 424.70 qps: 424.70 (r/w/o: 0.00/424.70/0.00) lat (ms,95%): 484.44 err/s: 0.00 reconn/s: 0.00
[ 240s ] thds: 128 tps: 435.00 qps: 435.00 (r/w/o: 0.00/435.00/0.00) lat (ms,95%): 467.30 err/s: 0.00 reconn/s: 0.00
[ 250s ] thds: 128 tps: 444.70 qps: 444.70 (r/w/o: 0.00/444.70/0.00) lat (ms,95%): 442.73 err/s: 0.00 reconn/s: 0.00
[ 260s ] thds: 128 tps: 416.90 qps: 416.90 (r/w/o: 0.00/416.90/0.00) lat (ms,95%): 484.44 err/s: 0.00 reconn/s: 0.00
[ 270s ] thds: 128 tps: 436.59 qps: 436.59 (r/w/o: 0.00/436.59/0.00) lat (ms,95%): 427.07 err/s: 0.00 reconn/s: 0.00
[ 280s ] thds: 128 tps: 444.50 qps: 444.50 (r/w/o: 0.00/444.50/0.00) lat (ms,95%): 458.96 err/s: 0.00 reconn/s: 0.00
[ 290s ] thds: 128 tps: 414.00 qps: 414.00 (r/w/o: 0.00/414.00/0.00) lat (ms,95%): 493.24 err/s: 0.00 reconn/s: 0.00
[ 300s ] thds: 128 tps: 415.00 qps: 415.00 (r/w/o: 0.00/415.00/0.00) lat (ms,95%): 475.79 err/s: 0.00 reconn/s: 0.00
[ 310s ] thds: 128 tps: 393.30 qps: 393.30 (r/w/o: 0.00/393.30/0.00) lat (ms,95%): 484.44 err/s: 0.00 reconn/s: 0.00
[ 320s ] thds: 128 tps: 128.70 qps: 128.70 (r/w/o: 0.00/128.70/0.00) lat (ms,95%): 2585.31 err/s: 0.00 reconn/s: 0.00
[ 330s ] thds: 128 tps: 148.40 qps: 148.40 (r/w/o: 0.00/148.40/0.00) lat (ms,95%): 2279.14 err/s: 0.00 reconn/s: 0.00
[ 340s ] thds: 128 tps: 119.60 qps: 119.60 (r/w/o: 0.00/119.60/0.00) lat (ms,95%): 3639.94 err/s: 0.00 reconn/s: 0.00
[ 350s ] thds: 128 tps: 123.70 qps: 123.70 (r/w/o: 0.00/123.70/0.00) lat (ms,95%): 3151.62 err/s: 0.00 reconn/s: 0.00
[ 360s ] thds: 128 tps: 123.50 qps: 123.50 (r/w/o: 0.00/123.50/0.00) lat (ms,95%): 3574.99 err/s: 0.00 reconn/s: 0.00
[ 370s ] thds: 128 tps: 137.80 qps: 137.80 (r/w/o: 0.00/137.80/0.00) lat (ms,95%): 3386.99 err/s: 0.00 reconn/s: 0.00
[ 380s ] thds: 128 tps: 130.50 qps: 130.50 (r/w/o: 0.00/130.50/0.00) lat (ms,95%): 2880.27 err/s: 0.00 reconn/s: 0.00
[ 390s ] thds: 128 tps: 123.20 qps: 123.20 (r/w/o: 0.00/123.20/0.00) lat (ms,95%): 3706.08 err/s: 0.00 reconn/s: 0.00
[ 400s ] thds: 128 tps: 116.30 qps: 116.30 (r/w/o: 0.00/116.30/0.00) lat (ms,95%): 3267.19 err/s: 0.00 reconn/s: 0.00
[ 410s ] thds: 128 tps: 146.80 qps: 146.80 (r/w/o: 0.00/146.80/0.00) lat (ms,95%): 2880.27 err/s: 0.00 reconn/s: 0.00
[ 420s ] thds: 128 tps: 143.60 qps: 143.60 (r/w/o: 0.00/143.60/0.00) lat (ms,95%): 2159.29 err/s: 0.00 reconn/s: 0.00
[ 430s ] thds: 128 tps: 137.50 qps: 137.50 (r/w/o: 0.00/137.50/0.00) lat (ms,95%): 2728.81 err/s: 0.00 reconn/s: 0.00
[ 440s ] thds: 128 tps: 139.40 qps: 139.40 (r/w/o: 0.00/139.40/0.00) lat (ms,95%): 2279.14 err/s: 0.00 reconn/s: 0.00
[ 450s ] thds: 128 tps: 133.30 qps: 133.30 (r/w/o: 0.00/133.30/0.00) lat (ms,95%): 2728.81 err/s: 0.00 reconn/s: 0.00
[ 460s ] thds: 128 tps: 192.50 qps: 192.50 (r/w/o: 0.00/192.50/0.00) lat (ms,95%): 2493.86 err/s: 0.00 reconn/s: 0.00
[ 470s ] thds: 128 tps: 421.20 qps: 421.20 (r/w/o: 0.00/421.20/0.00) lat (ms,95%): 475.79 err/s: 0.00 reconn/s: 0.00
[ 480s ] thds: 128 tps: 443.50 qps: 443.50 (r/w/o: 0.00/443.50/0.00) lat (ms,95%): 458.96 err/s: 0.00 reconn/s: 0.00
[ 490s ] thds: 128 tps: 414.00 qps: 414.00 (r/w/o: 0.00/414.00/0.00) lat (ms,95%): 484.44 err/s: 0.00 reconn/s: 0.00
[ 500s ] thds: 128 tps: 427.30 qps: 427.30 (r/w/o: 0.00/427.30/0.00) lat (ms,95%): 493.24 err/s: 0.00 reconn/s: 0.00
[ 510s ] thds: 128 tps: 409.80 qps: 409.80 (r/w/o: 0.00/409.80/0.00) lat (ms,95%): 493.24 err/s: 0.00 reconn/s: 0.00
[ 520s ] thds: 128 tps: 405.40 qps: 405.40 (r/w/o: 0.00/405.40/0.00) lat (ms,95%): 511.33 err/s: 0.00 reconn/s: 0.00
[ 530s ] thds: 128 tps: 270.70 qps: 270.70 (r/w/o: 0.00/270.70/0.00) lat (ms,95%): 1938.16 err/s: 0.00 reconn/s: 0.00
[ 540s ] thds: 128 tps: 395.10 qps: 395.10 (r/w/o: 0.00/395.10/0.00) lat (ms,95%): 559.50 err/s: 0.00 reconn/s: 0.00
[ 550s ] thds: 128 tps: 364.60 qps: 364.60 (r/w/o: 0.00/364.60/0.00) lat (ms,95%): 590.56 err/s: 0.00 reconn/s: 0.00
[ 560s ] thds: 128 tps: 382.80 qps: 382.80 (r/w/o: 0.00/382.80/0.00) lat (ms,95%): 559.50 err/s: 0.00 reconn/s: 0.00
[ 570s ] thds: 128 tps: 395.50 qps: 395.50 (r/w/o: 0.00/395.50/0.00) lat (ms,95%): 520.62 err/s: 0.00 reconn/s: 0.00
[ 580s ] thds: 128 tps: 380.30 qps: 380.30 (r/w/o: 0.00/380.30/0.00) lat (ms,95%): 520.62 err/s: 0.00 reconn/s: 0.00
[ 590s ] thds: 128 tps: 383.60 qps: 383.60 (r/w/o: 0.00/383.60/0.00) lat (ms,95%): 580.02 err/s: 0.00 reconn/s: 0.00
[ 600s ] thds: 128 tps: 377.40 qps: 377.40 (r/w/o: 0.00/377.40/0.00) lat (ms,95%): 549.52 err/s: 0.00 reconn/s: 0.00
SQL statistics:
    queries performed:
        read:                            0
        write:                           204333
        other:                           0
        total:                           204333
    transactions:                        204333 (340.20 per sec.)
    queries:                             204333 (340.20 per sec.)
    ignored errors:                      0      (0.00 per sec.)
    reconnects:                          0      (0.00 per sec.)

General statistics:
    total time:                          600.6143s
    total number of events:              204333

Latency (ms):
         min:                                   87.25
         avg:                                  375.96
         max:                                 8997.53
         95th percentile:                      634.66
         sum:                             76820773.29

Threads fairness:
    events (avg/stddev):           1596.3516/13.83
    execution time (avg/stddev):   600.1623/0.10
```

- Read only 场景测试
```
# sysbench --config-file=config oltp_read_only --tables=32 --table-size=100000 run
sysbench 1.0.20 (using bundled LuaJIT 2.1.0-beta2)

Running the test with following options:
Number of threads: 128
Report intermediate results every 10 second(s)
Initializing random number generator from current time


Initializing worker threads...

Threads started!

[ 10s ] thds: 128 tps: 457.01 qps: 7421.03 (r/w/o: 6494.92/0.00/926.10) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 20s ] thds: 128 tps: 356.57 qps: 5691.47 (r/w/o: 4978.53/0.00/712.93) lat (ms,95%): 520.62 err/s: 0.00 reconn/s: 0.00
[ 30s ] thds: 128 tps: 457.71 qps: 7312.92 (r/w/o: 6397.71/0.00/915.22) lat (ms,95%): 344.08 err/s: 0.00 reconn/s: 0.00
[ 40s ] thds: 128 tps: 371.29 qps: 5955.31 (r/w/o: 5212.13/0.00/743.18) lat (ms,95%): 502.20 err/s: 0.00 reconn/s: 0.00
[ 50s ] thds: 128 tps: 449.69 qps: 7189.05 (r/w/o: 6289.67/0.00/899.38) lat (ms,95%): 344.08 err/s: 0.00 reconn/s: 0.00
[ 60s ] thds: 128 tps: 455.61 qps: 7284.28 (r/w/o: 6373.56/0.00/910.72) lat (ms,95%): 344.08 err/s: 0.00 reconn/s: 0.00
[ 70s ] thds: 128 tps: 459.91 qps: 7372.73 (r/w/o: 6453.31/0.00/919.42) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 80s ] thds: 128 tps: 461.40 qps: 7360.76 (r/w/o: 6437.47/0.00/923.30) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 90s ] thds: 128 tps: 457.88 qps: 7340.32 (r/w/o: 6424.26/0.00/916.05) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 100s ] thds: 128 tps: 464.01 qps: 7428.39 (r/w/o: 6500.27/0.00/928.12) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 110s ] thds: 128 tps: 459.31 qps: 7339.00 (r/w/o: 6420.68/0.00/918.33) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 120s ] thds: 128 tps: 462.90 qps: 7401.60 (r/w/o: 6477.00/0.00/924.60) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 130s ] thds: 128 tps: 464.10 qps: 7442.63 (r/w/o: 6513.62/0.00/929.00) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 140s ] thds: 128 tps: 464.09 qps: 7433.27 (r/w/o: 6504.49/0.00/928.78) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 150s ] thds: 128 tps: 464.29 qps: 7413.78 (r/w/o: 6485.39/0.00/928.38) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 160s ] thds: 128 tps: 469.81 qps: 7502.02 (r/w/o: 6563.01/0.00/939.02) lat (ms,95%): 320.17 err/s: 0.00 reconn/s: 0.00
[ 170s ] thds: 128 tps: 458.01 qps: 7330.13 (r/w/o: 6413.61/0.00/916.52) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 180s ] thds: 128 tps: 458.58 qps: 7353.02 (r/w/o: 6435.75/0.00/917.26) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 190s ] thds: 128 tps: 463.81 qps: 7428.30 (r/w/o: 6500.58/0.00/927.73) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 200s ] thds: 128 tps: 461.28 qps: 7367.58 (r/w/o: 6445.42/0.00/922.16) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 210s ] thds: 128 tps: 462.22 qps: 7386.92 (r/w/o: 6462.48/0.00/924.44) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 220s ] thds: 128 tps: 465.80 qps: 7470.41 (r/w/o: 6538.51/0.00/931.90) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 230s ] thds: 128 tps: 459.80 qps: 7343.66 (r/w/o: 6425.77/0.00/917.90) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 240s ] thds: 128 tps: 464.31 qps: 7435.62 (r/w/o: 6504.91/0.00/930.72) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 250s ] thds: 128 tps: 468.19 qps: 7491.55 (r/w/o: 6556.47/0.00/935.08) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 260s ] thds: 128 tps: 463.40 qps: 7417.32 (r/w/o: 6489.52/0.00/927.80) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 270s ] thds: 128 tps: 466.49 qps: 7448.49 (r/w/o: 6515.61/0.00/932.87) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 280s ] thds: 128 tps: 465.43 qps: 7457.20 (r/w/o: 6526.15/0.00/931.05) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 290s ] thds: 128 tps: 459.47 qps: 7349.38 (r/w/o: 6430.53/0.00/918.85) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 300s ] thds: 128 tps: 460.12 qps: 7354.53 (r/w/o: 6435.19/0.00/919.34) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 310s ] thds: 128 tps: 463.60 qps: 7422.32 (r/w/o: 6494.63/0.00/927.69) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 320s ] thds: 128 tps: 460.20 qps: 7371.44 (r/w/o: 6451.44/0.00/920.01) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 330s ] thds: 128 tps: 466.00 qps: 7454.18 (r/w/o: 6522.68/0.00/931.50) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 340s ] thds: 128 tps: 463.39 qps: 7409.41 (r/w/o: 6482.72/0.00/926.69) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 350s ] thds: 128 tps: 454.38 qps: 7269.55 (r/w/o: 6359.90/0.00/909.66) lat (ms,95%): 356.70 err/s: 0.00 reconn/s: 0.00
[ 360s ] thds: 128 tps: 462.73 qps: 7406.69 (r/w/o: 6481.03/0.00/925.66) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 370s ] thds: 128 tps: 466.59 qps: 7467.09 (r/w/o: 6534.41/0.00/932.67) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 380s ] thds: 128 tps: 460.59 qps: 7364.23 (r/w/o: 6443.16/0.00/921.08) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 390s ] thds: 128 tps: 459.12 qps: 7341.58 (r/w/o: 6422.93/0.00/918.65) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 400s ] thds: 128 tps: 469.00 qps: 7525.80 (r/w/o: 6587.80/0.00/938.00) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 410s ] thds: 128 tps: 453.48 qps: 7239.00 (r/w/o: 6331.84/0.00/907.16) lat (ms,95%): 350.33 err/s: 0.00 reconn/s: 0.00
[ 420s ] thds: 128 tps: 459.11 qps: 7347.60 (r/w/o: 6429.97/0.00/917.62) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 430s ] thds: 128 tps: 468.79 qps: 7500.73 (r/w/o: 6563.15/0.00/937.58) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 440s ] thds: 128 tps: 463.02 qps: 7402.56 (r/w/o: 6476.82/0.00/925.75) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 450s ] thds: 128 tps: 462.49 qps: 7408.26 (r/w/o: 6483.79/0.00/924.47) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 460s ] thds: 128 tps: 466.59 qps: 7475.85 (r/w/o: 6540.97/0.00/934.88) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 470s ] thds: 128 tps: 453.41 qps: 7245.17 (r/w/o: 6338.85/0.00/906.32) lat (ms,95%): 344.08 err/s: 0.00 reconn/s: 0.00
[ 480s ] thds: 128 tps: 461.09 qps: 7380.71 (r/w/o: 6458.22/0.00/922.49) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 490s ] thds: 128 tps: 468.50 qps: 7496.00 (r/w/o: 6559.20/0.00/936.80) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 500s ] thds: 128 tps: 465.10 qps: 7450.29 (r/w/o: 6519.69/0.00/930.60) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 510s ] thds: 128 tps: 470.10 qps: 7511.82 (r/w/o: 6572.32/0.00/939.50) lat (ms,95%): 320.17 err/s: 0.00 reconn/s: 0.00
[ 520s ] thds: 128 tps: 471.78 qps: 7543.70 (r/w/o: 6599.94/0.00/943.76) lat (ms,95%): 320.17 err/s: 0.00 reconn/s: 0.00
[ 530s ] thds: 128 tps: 461.33 qps: 7384.34 (r/w/o: 6461.79/0.00/922.56) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 540s ] thds: 128 tps: 462.20 qps: 7400.50 (r/w/o: 6475.90/0.00/924.60) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 550s ] thds: 128 tps: 466.89 qps: 7451.30 (r/w/o: 6518.33/0.00/932.98) lat (ms,95%): 325.98 err/s: 0.00 reconn/s: 0.00
[ 560s ] thds: 128 tps: 455.00 qps: 7309.53 (r/w/o: 6398.33/0.00/911.20) lat (ms,95%): 344.08 err/s: 0.00 reconn/s: 0.00
[ 570s ] thds: 128 tps: 459.81 qps: 7346.18 (r/w/o: 6426.67/0.00/919.51) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 580s ] thds: 128 tps: 466.30 qps: 7462.50 (r/w/o: 6530.00/0.00/932.50) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
[ 590s ] thds: 128 tps: 457.91 qps: 7331.58 (r/w/o: 6414.97/0.00/916.61) lat (ms,95%): 337.94 err/s: 0.00 reconn/s: 0.00
[ 600s ] thds: 128 tps: 459.49 qps: 7354.30 (r/w/o: 6436.11/0.00/918.19) lat (ms,95%): 331.91 err/s: 0.00 reconn/s: 0.00
SQL statistics:
    queries performed:
        read:                            3856076
        write:                           0
        other:                           550868
        total:                           4406944
    transactions:                        275434 (458.89 per sec.)
    queries:                             4406944 (7342.26 per sec.)
    ignored errors:                      0      (0.00 per sec.)
    reconnects:                          0      (0.00 per sec.)

General statistics:
    total time:                          600.2120s
    total number of events:              275434

Latency (ms):
         min:                                   75.47
         avg:                                  278.87
         max:                                  807.93
         95th percentile:                      337.94
         sum:                             76811293.20

Threads fairness:
    events (avg/stddev):           2151.8281/3.69
    execution time (avg/stddev):   600.0882/0.06
```

- Write only 场景测试
```
# sysbench --config-file=config oltp_write_only --tables=32 --table-size=100000 run
sysbench 1.0.20 (using bundled LuaJIT 2.1.0-beta2)

Running the test with following options:
Number of threads: 128
Report intermediate results every 10 second(s)
Initializing random number generator from current time


Initializing worker threads...

Threads started!

[ 10s ] thds: 128 tps: 166.91 qps: 1046.66 (r/w/o: 0.00/700.14/346.52) lat (ms,95%): 995.51 err/s: 0.00 reconn/s: 0.00
[ 20s ] thds: 128 tps: 163.01 qps: 975.28 (r/w/o: 0.00/649.15/326.13) lat (ms,95%): 1401.61 err/s: 0.00 reconn/s: 0.00
[ 30s ] thds: 128 tps: 164.00 qps: 982.99 (r/w/o: 0.00/654.99/328.00) lat (ms,95%): 1352.03 err/s: 0.00 reconn/s: 0.00
[ 40s ] thds: 128 tps: 178.30 qps: 1072.11 (r/w/o: 0.00/715.51/356.60) lat (ms,95%): 1170.65 err/s: 0.00 reconn/s: 0.00
[ 50s ] thds: 128 tps: 171.90 qps: 1032.29 (r/w/o: 0.00/688.50/343.80) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 60s ] thds: 128 tps: 184.10 qps: 1100.50 (r/w/o: 0.00/732.30/368.20) lat (ms,95%): 1149.76 err/s: 0.00 reconn/s: 0.00
[ 70s ] thds: 128 tps: 178.80 qps: 1073.49 (r/w/o: 0.00/716.00/357.50) lat (ms,95%): 977.74 err/s: 0.00 reconn/s: 0.00
[ 80s ] thds: 128 tps: 174.30 qps: 1050.01 (r/w/o: 0.00/701.31/348.70) lat (ms,95%): 1069.86 err/s: 0.00 reconn/s: 0.00
[ 90s ] thds: 128 tps: 176.30 qps: 1057.08 (r/w/o: 0.00/704.48/352.59) lat (ms,95%): 1149.76 err/s: 0.00 reconn/s: 0.00
[ 100s ] thds: 128 tps: 154.20 qps: 922.21 (r/w/o: 0.00/613.81/308.40) lat (ms,95%): 1376.60 err/s: 0.00 reconn/s: 0.00
[ 110s ] thds: 128 tps: 172.10 qps: 1031.01 (r/w/o: 0.00/686.80/344.20) lat (ms,95%): 1149.76 err/s: 0.00 reconn/s: 0.00
[ 120s ] thds: 128 tps: 164.20 qps: 985.50 (r/w/o: 0.00/657.10/328.40) lat (ms,95%): 1280.93 err/s: 0.00 reconn/s: 0.00
[ 130s ] thds: 128 tps: 168.00 qps: 1008.78 (r/w/o: 0.00/672.79/335.99) lat (ms,95%): 1149.76 err/s: 0.00 reconn/s: 0.00
[ 140s ] thds: 128 tps: 176.60 qps: 1059.01 (r/w/o: 0.00/705.81/353.20) lat (ms,95%): 1213.57 err/s: 0.00 reconn/s: 0.00
[ 150s ] thds: 128 tps: 171.40 qps: 1032.61 (r/w/o: 0.00/689.81/342.80) lat (ms,95%): 1109.09 err/s: 0.00 reconn/s: 0.00
[ 160s ] thds: 128 tps: 161.80 qps: 967.80 (r/w/o: 0.00/644.20/323.60) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 170s ] thds: 128 tps: 151.00 qps: 904.10 (r/w/o: 0.00/602.30/301.80) lat (ms,95%): 1479.41 err/s: 0.00 reconn/s: 0.00
[ 180s ] thds: 128 tps: 169.30 qps: 1014.09 (r/w/o: 0.00/675.40/338.70) lat (ms,95%): 1191.92 err/s: 0.00 reconn/s: 0.00
[ 190s ] thds: 128 tps: 157.50 qps: 947.59 (r/w/o: 0.00/632.49/315.10) lat (ms,95%): 1191.92 err/s: 0.00 reconn/s: 0.00
[ 200s ] thds: 128 tps: 155.40 qps: 933.79 (r/w/o: 0.00/623.10/310.70) lat (ms,95%): 1352.03 err/s: 0.00 reconn/s: 0.00
[ 210s ] thds: 128 tps: 163.10 qps: 979.33 (r/w/o: 0.00/653.02/326.31) lat (ms,95%): 1427.08 err/s: 0.00 reconn/s: 0.00
[ 220s ] thds: 128 tps: 153.20 qps: 920.51 (r/w/o: 0.00/614.10/306.40) lat (ms,95%): 1401.61 err/s: 0.00 reconn/s: 0.00
[ 230s ] thds: 128 tps: 151.60 qps: 908.29 (r/w/o: 0.00/605.10/303.20) lat (ms,95%): 1376.60 err/s: 0.00 reconn/s: 0.00
[ 240s ] thds: 128 tps: 158.60 qps: 953.10 (r/w/o: 0.00/635.90/317.20) lat (ms,95%): 1280.93 err/s: 0.00 reconn/s: 0.00
[ 250s ] thds: 128 tps: 142.70 qps: 856.70 (r/w/o: 0.00/571.30/285.40) lat (ms,95%): 1561.52 err/s: 0.00 reconn/s: 0.00
[ 260s ] thds: 128 tps: 159.00 qps: 948.98 (r/w/o: 0.00/630.99/317.99) lat (ms,95%): 1304.21 err/s: 0.00 reconn/s: 0.00
[ 270s ] thds: 128 tps: 157.80 qps: 948.02 (r/w/o: 0.00/632.41/315.61) lat (ms,95%): 1280.93 err/s: 0.00 reconn/s: 0.00
[ 280s ] thds: 128 tps: 159.70 qps: 955.19 (r/w/o: 0.00/635.89/319.30) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 290s ] thds: 128 tps: 156.40 qps: 942.21 (r/w/o: 0.00/629.30/312.90) lat (ms,95%): 1258.08 err/s: 0.00 reconn/s: 0.00
[ 300s ] thds: 128 tps: 158.50 qps: 951.40 (r/w/o: 0.00/634.40/317.00) lat (ms,95%): 1149.76 err/s: 0.00 reconn/s: 0.00
[ 310s ] thds: 128 tps: 144.20 qps: 866.78 (r/w/o: 0.00/578.39/288.39) lat (ms,95%): 1401.61 err/s: 0.00 reconn/s: 0.00
[ 320s ] thds: 128 tps: 149.70 qps: 899.31 (r/w/o: 0.00/599.91/299.40) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 330s ] thds: 128 tps: 149.10 qps: 891.60 (r/w/o: 0.00/593.60/298.00) lat (ms,95%): 1352.03 err/s: 0.00 reconn/s: 0.00
[ 340s ] thds: 128 tps: 151.50 qps: 903.99 (r/w/o: 0.00/601.49/302.50) lat (ms,95%): 1258.08 err/s: 0.00 reconn/s: 0.00
[ 350s ] thds: 128 tps: 145.30 qps: 875.01 (r/w/o: 0.00/583.71/291.30) lat (ms,95%): 1427.08 err/s: 0.00 reconn/s: 0.00
[ 360s ] thds: 128 tps: 163.70 qps: 982.59 (r/w/o: 0.00/655.19/327.40) lat (ms,95%): 1109.09 err/s: 0.00 reconn/s: 0.00
[ 370s ] thds: 128 tps: 79.80 qps: 477.70 (r/w/o: 0.00/318.10/159.60) lat (ms,95%): 6026.41 err/s: 0.00 reconn/s: 0.00
[ 380s ] thds: 128 tps: 153.10 qps: 917.50 (r/w/o: 0.00/611.30/306.20) lat (ms,95%): 1280.93 err/s: 0.00 reconn/s: 0.00
[ 390s ] thds: 128 tps: 161.60 qps: 973.41 (r/w/o: 0.00/650.20/323.20) lat (ms,95%): 1280.93 err/s: 0.00 reconn/s: 0.00
[ 400s ] thds: 128 tps: 155.10 qps: 928.40 (r/w/o: 0.00/618.20/310.20) lat (ms,95%): 1258.08 err/s: 0.00 reconn/s: 0.00
[ 410s ] thds: 128 tps: 151.70 qps: 908.99 (r/w/o: 0.00/605.80/303.20) lat (ms,95%): 1401.61 err/s: 0.00 reconn/s: 0.00
[ 420s ] thds: 128 tps: 161.20 qps: 968.39 (r/w/o: 0.00/645.80/322.60) lat (ms,95%): 1170.65 err/s: 0.00 reconn/s: 0.00
[ 430s ] thds: 128 tps: 155.60 qps: 933.81 (r/w/o: 0.00/622.61/311.20) lat (ms,95%): 1191.92 err/s: 0.00 reconn/s: 0.00
[ 440s ] thds: 128 tps: 159.00 qps: 952.40 (r/w/o: 0.00/635.30/317.10) lat (ms,95%): 1050.76 err/s: 0.00 reconn/s: 0.00
[ 450s ] thds: 128 tps: 154.00 qps: 930.21 (r/w/o: 0.00/621.31/308.90) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 460s ] thds: 128 tps: 150.40 qps: 902.20 (r/w/o: 0.00/601.40/300.80) lat (ms,95%): 1376.60 err/s: 0.00 reconn/s: 0.00
[ 470s ] thds: 128 tps: 171.90 qps: 1027.60 (r/w/o: 0.00/683.80/343.80) lat (ms,95%): 1170.65 err/s: 0.00 reconn/s: 0.00
[ 480s ] thds: 128 tps: 163.40 qps: 986.40 (r/w/o: 0.00/659.60/326.80) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 490s ] thds: 128 tps: 155.20 qps: 926.70 (r/w/o: 0.00/616.30/310.40) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 500s ] thds: 128 tps: 160.70 qps: 964.69 (r/w/o: 0.00/643.30/321.40) lat (ms,95%): 1280.93 err/s: 0.00 reconn/s: 0.00
[ 510s ] thds: 128 tps: 157.50 qps: 946.99 (r/w/o: 0.00/631.99/315.00) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 520s ] thds: 128 tps: 155.60 qps: 933.21 (r/w/o: 0.00/622.01/311.20) lat (ms,95%): 1304.21 err/s: 0.00 reconn/s: 0.00
[ 530s ] thds: 128 tps: 163.40 qps: 977.60 (r/w/o: 0.00/650.80/326.80) lat (ms,95%): 1213.57 err/s: 0.00 reconn/s: 0.00
[ 540s ] thds: 128 tps: 169.60 qps: 1021.49 (r/w/o: 0.00/682.69/338.80) lat (ms,95%): 1170.65 err/s: 0.00 reconn/s: 0.00
[ 550s ] thds: 128 tps: 132.80 qps: 796.41 (r/w/o: 0.00/530.41/266.00) lat (ms,95%): 1258.08 err/s: 0.00 reconn/s: 0.00
[ 560s ] thds: 128 tps: 132.90 qps: 794.89 (r/w/o: 0.00/529.49/265.40) lat (ms,95%): 4599.99 err/s: 0.00 reconn/s: 0.00
[ 570s ] thds: 128 tps: 169.40 qps: 1016.19 (r/w/o: 0.00/676.99/339.20) lat (ms,95%): 1213.57 err/s: 0.00 reconn/s: 0.00
[ 580s ] thds: 128 tps: 174.70 qps: 1043.02 (r/w/o: 0.00/693.61/349.41) lat (ms,95%): 1129.24 err/s: 0.00 reconn/s: 0.00
[ 590s ] thds: 128 tps: 160.80 qps: 973.19 (r/w/o: 0.00/651.60/321.60) lat (ms,95%): 1235.62 err/s: 0.00 reconn/s: 0.00
[ 600s ] thds: 128 tps: 168.80 qps: 1006.51 (r/w/o: 0.00/669.01/337.50) lat (ms,95%): 1170.65 err/s: 0.00 reconn/s: 0.00
SQL statistics:
    queries performed:
        read:                            0
        write:                           382172
        other:                           191086
        total:                           573258
    transactions:                        95543  (158.93 per sec.)
    queries:                             573258 (953.60 per sec.)
    ignored errors:                      0      (0.00 per sec.)
    reconnects:                          0      (0.00 per sec.)

General statistics:
    total time:                          601.1503s
    total number of events:              95543

Latency (ms):
         min:                                  303.12
         avg:                                  804.33
         max:                                 6695.11
         95th percentile:                     1280.93
         sum:                             76848535.01

Threads fairness:
    events (avg/stddev):           746.4297/4.03
    execution time (avg/stddev):   600.3792/0.24
```

- Read Write 场景测试
```
# sysbench --config-file=config oltp_read_write --tables=32 --table-size=100000 run
```
